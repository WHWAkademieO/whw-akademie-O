(()=>{"use strict";var e,t={274:(e,t,s)=>{const i=window.wp.blocks,n=window.wp.element,o=window.wp.i18n,r=window.wp.blockEditor,l=window.wp.components,a=window.React;var h=s.n(a);const c=window.ReactDOM;function d(e){const t=window.getComputedStyle(e);return Math.max(parseInt(t["margin-top"],10),parseInt(t["margin-bottom"],10))+e.getBoundingClientRect().height}function u(e,t=0,s=0){e&&(null!==t&&null!==s?e.style.transform=`translate(${s}px, ${t}px)`:e.style.removeProperty("transform"))}function g(e,t,s){e&&(e.style.transition=`transform ${t}ms${s?` ${s}`:""}`)}const m=e=>{let t=[],s=null;const i=(...i)=>{t=i,s||(s=requestAnimationFrame((()=>{s=null,e(...t)})))};return i.cancel=()=>{s&&cancelAnimationFrame(s)},i};function p(e,t){const s=["input","textarea","select","option","optgroup","video","audio","button","a"],i=["button","link","checkbox","tab"];for(;e!==t;){if(e.getAttribute("data-movable-handle"))return!1;if(s.includes(e.tagName.toLowerCase()))return!0;const t=e.getAttribute("role");if(t&&i.includes(t.toLowerCase()))return!0;if("label"===e.tagName.toLowerCase()&&e.hasAttribute("for"))return!0;e.tagName&&(e=e.parentElement)}return!1}const f=200;class v extends a.Component{constructor(e){super(e),this.listRef=a.createRef(),this.ghostRef=a.createRef(),this.topOffsets=[],this.itemTranslateOffsets=[],this.initialYOffset=0,this.lastScroll=0,this.lastYOffset=0,this.lastListYOffset=0,this.needle=-1,this.afterIndex=-2,this.state={itemDragged:-1,itemDraggedOutOfBounds:-1,selectedItem:-1,initialX:0,initialY:0,targetX:0,targetY:0,targetHeight:0,targetWidth:0,liveText:"",scrollingSpeed:0,scrollWindow:!1},this.doScrolling=()=>{const{scrollingSpeed:e,scrollWindow:t}=this.state,s=this.listRef.current;window.requestAnimationFrame((()=>{t?window.scrollTo(window.pageXOffset,window.pageYOffset+1.5*e):s.scrollTop+=e,0!==e&&this.doScrolling()}))},this.getChildren=()=>this.listRef&&this.listRef.current?Array.from(this.listRef.current.children):(console.warn("No items found in the List container. Did you forget to pass & spread the `props` param in renderList?"),[]),this.calculateOffsets=()=>{this.topOffsets=this.getChildren().map((e=>e.getBoundingClientRect().top)),this.itemTranslateOffsets=this.getChildren().map((e=>d(e)))},this.getTargetIndex=e=>this.getChildren().findIndex((t=>t===e.target||t.contains(e.target))),this.onMouseOrTouchStart=e=>{this.dropTimeout&&this.state.itemDragged>-1&&(window.clearTimeout(this.dropTimeout),this.finishDrop());const t=(s=e).touches&&s.touches.length||s.changedTouches&&s.changedTouches.length;var s;if(!t&&0!==e.button)return;const i=this.getTargetIndex(e);if(-1===i||this.props.values[i]&&this.props.values[i].disabled)return void(-1!==this.state.selectedItem&&(this.setState({selectedItem:-1}),this.finishDrop()));const n=this.getChildren()[i],o=n.querySelector("[data-movable-handle]");if((!o||o.contains(e.target))&&!p(e.target,n)){if(e.preventDefault(),this.props.beforeDrag&&this.props.beforeDrag({elements:this.getChildren(),index:i}),t){const e={passive:!1};n.style.touchAction="none",document.addEventListener("touchend",this.schdOnEnd,e),document.addEventListener("touchmove",this.schdOnTouchMove,e),document.addEventListener("touchcancel",this.schdOnEnd,e)}else{document.addEventListener("mousemove",this.schdOnMouseMove),document.addEventListener("mouseup",this.schdOnEnd);const e=this.getChildren()[this.state.itemDragged];e&&e.style&&(e.style.touchAction="")}this.onStart(n,t?e.touches[0].clientX:e.clientX,t?e.touches[0].clientY:e.clientY,i)}},this.getYOffset=()=>{const e=this.listRef.current?this.listRef.current.scrollTop:0;return window.pageYOffset+e},this.onStart=(e,t,s,i)=>{this.state.selectedItem>-1&&(this.setState({selectedItem:-1}),this.needle=-1);const n=e.getBoundingClientRect(),o=window.getComputedStyle(e);this.calculateOffsets(),this.initialYOffset=this.getYOffset(),this.lastYOffset=window.pageYOffset,this.lastListYOffset=this.listRef.current.scrollTop,this.setState({itemDragged:i,targetX:n.left-parseInt(o["margin-left"],10),targetY:n.top-parseInt(o["margin-top"],10),targetHeight:n.height,targetWidth:n.width,initialX:t,initialY:s})},this.onMouseMove=e=>{e.cancelable&&e.preventDefault(),this.onMove(e.clientX,e.clientY)},this.onTouchMove=e=>{e.cancelable&&e.preventDefault(),this.onMove(e.touches[0].clientX,e.touches[0].clientY)},this.onWheel=e=>{this.state.itemDragged<0||(this.lastScroll=this.listRef.current.scrollTop+=e.deltaY,this.moveOtherItems())},this.onMove=(e,t)=>{if(-1===this.state.itemDragged)return null;u(this.ghostRef.current,t-this.state.initialY,this.props.lockVertically?0:e-this.state.initialX),this.autoScrolling(t),this.moveOtherItems()},this.moveOtherItems=()=>{const e=this.ghostRef.current.getBoundingClientRect(),t=e.top+e.height/2,s=d(this.getChildren()[this.state.itemDragged]),i=this.getYOffset();this.initialYOffset!==i&&(this.topOffsets=this.topOffsets.map((e=>e-(i-this.initialYOffset))),this.initialYOffset=i),this.isDraggedItemOutOfBounds()&&this.props.removableByMove?this.afterIndex=this.topOffsets.length+1:this.afterIndex=function(e,t){let s,i=0,n=e.length-1;for(;i<=n;){if(s=Math.floor((n+i)/2),!e[s+1]||e[s]<=t&&e[s+1]>=t)return s;e[s]<t&&e[s+1]<t?i=s+1:n=s-1}return-1}(this.topOffsets,t),this.animateItems(-1===this.afterIndex?0:this.afterIndex,this.state.itemDragged,s)},this.autoScrolling=e=>{const{top:t,bottom:s,height:i}=this.listRef.current.getBoundingClientRect(),n=window.innerHeight||document.documentElement.clientHeight;if(s>n&&n-e<f)this.setState({scrollingSpeed:Math.round((f-(n-e))/10),scrollWindow:!0});else if(t<0&&e<f)this.setState({scrollingSpeed:Math.round((f-e)/-10),scrollWindow:!0});else if(this.state.scrollWindow&&0!==this.state.scrollingSpeed&&this.setState({scrollingSpeed:0,scrollWindow:!1}),i+20<this.listRef.current.scrollHeight){let i=0;e-t<f?i=Math.round((f-(e-t))/-10):s-e<f&&(i=Math.round((f-(s-e))/10)),this.state.scrollingSpeed!==i&&this.setState({scrollingSpeed:i})}},this.animateItems=(e,t,s,i=!1)=>{this.getChildren().forEach(((n,o)=>{if(g(n,this.props.transitionDuration),t===o&&i){if(t===e)return u(n,null);u(n,t<e?this.itemTranslateOffsets.slice(t+1,e+1).reduce(((e,t)=>e+t),0):-1*this.itemTranslateOffsets.slice(e,t).reduce(((e,t)=>e+t),0))}else u(n,t<e&&o>t&&o<=e?-s:o<t&&t>e&&o>=e?s:null)}))},this.isDraggedItemOutOfBounds=()=>{const e=this.getChildren()[this.state.itemDragged].getBoundingClientRect(),t=this.ghostRef.current.getBoundingClientRect();return Math.abs(e.left-t.left)>t.width?(-1===this.state.itemDraggedOutOfBounds&&this.setState({itemDraggedOutOfBounds:this.state.itemDragged}),!0):(this.state.itemDraggedOutOfBounds>-1&&this.setState({itemDraggedOutOfBounds:-1}),!1)},this.onEnd=e=>{e.cancelable&&e.preventDefault(),document.removeEventListener("mousemove",this.schdOnMouseMove),document.removeEventListener("touchmove",this.schdOnTouchMove),document.removeEventListener("mouseup",this.schdOnEnd),document.removeEventListener("touchup",this.schdOnEnd),document.removeEventListener("touchcancel",this.schdOnEnd);const t=this.props.removableByMove&&this.isDraggedItemOutOfBounds();!t&&this.props.transitionDuration>0&&-2!==this.afterIndex&&m((()=>{g(this.ghostRef.current,this.props.transitionDuration,"cubic-bezier(.2,1,.1,1)"),this.afterIndex<1&&0===this.state.itemDragged?u(this.ghostRef.current,0,0):u(this.ghostRef.current,-(window.pageYOffset-this.lastYOffset)-(this.listRef.current.scrollTop-this.lastListYOffset)+(this.state.itemDragged<this.afterIndex?this.itemTranslateOffsets.slice(this.state.itemDragged+1,this.afterIndex+1).reduce(((e,t)=>e+t),0):-1*this.itemTranslateOffsets.slice(this.afterIndex<0?0:this.afterIndex,this.state.itemDragged).reduce(((e,t)=>e+t),0)),0)}))(),this.dropTimeout=window.setTimeout(this.finishDrop,t||-2===this.afterIndex?0:this.props.transitionDuration)},this.finishDrop=()=>{const e=this.props.removableByMove&&this.isDraggedItemOutOfBounds();(e||this.afterIndex>-2&&this.state.itemDragged!==this.afterIndex)&&this.props.onChange({oldIndex:this.state.itemDragged,newIndex:e?-1:Math.max(this.afterIndex,0),targetRect:this.ghostRef.current.getBoundingClientRect()}),this.getChildren().forEach((e=>{g(e,0),u(e,null),e.style.touchAction=""})),this.setState({itemDragged:-1,scrollingSpeed:0}),this.afterIndex=-2,this.lastScroll>0&&(this.listRef.current.scrollTop=this.lastScroll,this.lastScroll=0)},this.onKeyDown=e=>{const t=this.state.selectedItem,s=this.getTargetIndex(e);if(!p(e.target,e.currentTarget)&&-1!==s){if(" "===e.key&&(e.preventDefault(),t===s?(t!==this.needle&&(this.getChildren().forEach((e=>{g(e,0),u(e,null)})),this.props.onChange({oldIndex:t,newIndex:this.needle,targetRect:this.getChildren()[this.needle].getBoundingClientRect()}),this.getChildren()[this.needle].focus()),this.setState({selectedItem:-1,liveText:this.props.voiceover.dropped(t+1,this.needle+1)}),this.needle=-1):(this.setState({selectedItem:s,liveText:this.props.voiceover.lifted(s+1)}),this.needle=s,this.calculateOffsets())),("ArrowDown"===e.key||"j"===e.key)&&t>-1&&this.needle<this.props.values.length-1){e.preventDefault();const s=d(this.getChildren()[t]);this.needle++,this.animateItems(this.needle,t,s,!0),this.setState({liveText:this.props.voiceover.moved(this.needle+1,!1)})}if(("ArrowUp"===e.key||"k"===e.key)&&t>-1&&this.needle>0){e.preventDefault();const s=d(this.getChildren()[t]);this.needle--,this.animateItems(this.needle,t,s,!0),this.setState({liveText:this.props.voiceover.moved(this.needle+1,!0)})}"Escape"===e.key&&t>-1&&(this.getChildren().forEach((e=>{g(e,0),u(e,null)})),this.setState({selectedItem:-1,liveText:this.props.voiceover.canceled(t+1)}),this.needle=-1),("Tab"===e.key||"Enter"===e.key)&&t>-1&&e.preventDefault()}},this.schdOnMouseMove=m(this.onMouseMove),this.schdOnTouchMove=m(this.onTouchMove),this.schdOnEnd=m(this.onEnd)}componentDidMount(){this.calculateOffsets(),document.addEventListener("touchstart",this.onMouseOrTouchStart,{passive:!1,capture:!1}),document.addEventListener("mousedown",this.onMouseOrTouchStart)}componentDidUpdate(e,t){t.scrollingSpeed!==this.state.scrollingSpeed&&0===t.scrollingSpeed&&this.doScrolling()}componentWillUnmount(){document.removeEventListener("touchstart",this.onMouseOrTouchStart),document.removeEventListener("mousedown",this.onMouseOrTouchStart),this.dropTimeout&&window.clearTimeout(this.dropTimeout),this.schdOnMouseMove.cancel(),this.schdOnTouchMove.cancel(),this.schdOnEnd.cancel()}render(){const e={userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",boxSizing:"border-box",position:"relative"},t={...e,top:this.state.targetY,left:this.state.targetX,width:this.state.targetWidth,height:this.state.targetHeight,position:"fixed",marginTop:0};return a.createElement(a.Fragment,null,this.props.renderList({children:this.props.values.map(((t,s)=>{const i=s===this.state.itemDragged,n=s===this.state.selectedItem,o={key:s,tabIndex:this.props.values[s]&&this.props.values[s].disabled?-1:0,"aria-roledescription":this.props.voiceover.item(s+1),onKeyDown:this.onKeyDown,style:{...e,visibility:i?"hidden":void 0,zIndex:n?5e3:0}};return this.props.renderItem({value:t,props:o,index:s,isDragged:!1,isSelected:n,isOutOfBounds:!1})})),isDragged:this.state.itemDragged>-1,props:{ref:this.listRef}}),this.state.itemDragged>-1&&c.createPortal(this.props.renderItem({value:this.props.values[this.state.itemDragged],props:{ref:this.ghostRef,style:t,onWheel:this.onWheel},index:this.state.itemDragged,isDragged:!0,isSelected:!1,isOutOfBounds:this.state.itemDraggedOutOfBounds>-1}),this.props.container||document.body),a.createElement("div",{"aria-live":"assertive",role:"log","aria-atomic":"true",style:{position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0px",padding:"0px",overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"}},this.state.liveText))}}v.defaultProps={transitionDuration:300,lockVertically:!1,removableByMove:!1,voiceover:{item:e=>`You are currently at a draggable item at position ${e}. Press space bar to lift.`,lifted:e=>`You have lifted item at position ${e}. Press j to move down, k to move up, space bar to drop and escape to cancel.`,moved:(e,t)=>`You have moved the lifted item ${t?"up":"down"} to position ${e}. Press j to move down, k to move up, space bar to drop and escape to cancel.`,dropped:(e,t)=>`You have dropped the item. It has moved from position ${e} to ${t}.`,canceled:e=>`You have cancelled the movement. The item has returned to its starting position of ${e}.`}};const O=v,b=JSON.parse('{"u2":"create-block/text-cta-blocks"}');(0,i.registerBlockType)(b.u2,{edit:function(e){const t=(0,r.useBlockProps)(),{attributes:{title:s,content:i,dot:c,listCta:d},setAttributes:u}=e,[g,m]=h().useState(d||[]),p=[{name:"yellow",color:"rgb(198, 210, 2)"},{name:"light-green",color:"rgb(60, 170, 55)"},{name:"bold-green",color:"rgb(0, 113, 57)"},{name:"black",color:"rgb(0, 0, 0)"}],f=(0,a.useCallback)((()=>{u({listCta:[...d||[],{}]}),m([...g,{}])}),[g,u]),v=(0,a.useCallback)((e=>{let t=[...g];t=t.filter(((t,s)=>s!==e)),m(t),u({listCta:t})}),[g,u]),b=(0,a.useCallback)(((e,t,s)=>{const i=[...g];i[s][e]=t,m(i),u({listCta:i})}),[g,e.attributes,u]);return(0,n.createElement)("div",{...t},(0,n.createElement)(l.Panel,{header:"Text CTA block"},(0,n.createElement)(l.PanelBody,{title:" ",initialOpen:!1},(0,n.createElement)("div",{className:"hero-wrapper",key:"container"},(0,n.createElement)("div",{className:"hero-text"},(0,n.createElement)("label",null,"Title: "),(0,n.createElement)(r.RichText,{tagName:"p",className:"callout-title",placeholder:(0,o.__)("Write a titleâ€¦"),value:s,onChange:e=>{u({title:e})}})),(0,n.createElement)("div",null,(0,n.createElement)("label",null,"Content: "),(0,n.createElement)(r.RichText,{tagName:"p",className:"callout-content",placeholder:(0,o.__)("Type content here ..."),value:i,onChange:e=>u({content:e})})),(0,n.createElement)("div",null,(0,n.createElement)(l.ToggleControl,{className:"custom-toogle",label:"Show dot",checked:c,onChange:e=>{u({dot:e})}})),(0,n.createElement)("div",null,(0,n.createElement)("label",null,"Repeat CTA:"),g?.length>0?(0,n.createElement)(O,{values:g||[],onChange:({oldIndex:e,newIndex:t})=>{var s,i,n;m((i=e,n=t,(s=(s=g).slice()).splice(n<0?s.length+n:n,0,s.splice(i,1)[0]),s))},renderList:({children:e,props:t})=>(0,n.createElement)("ul",{style:{padding:0},...t},e),renderItem:({value:e,props:t})=>(0,n.createElement)("li",{className:"drag-item",...t},(0,n.createElement)("div",{className:"repater-close-icon"},(0,n.createElement)("button",{style:{color:"red",border:"none",background:"white",cursor:"pointer"},onClick:e=>{e.stopPropagation(),v(t.key)}},"Remove")),(0,n.createElement)("div",null,(0,n.createElement)("label",null,"Title:"),(0,n.createElement)(l.TextControl,{placeholder:"Type your cta label here",value:e?.title,onChange:e=>b("title",e,t.key)})),(0,n.createElement)("div",{className:"color-editor"},(0,n.createElement)("div",null,(0,n.createElement)("label",null,"Background:"),(0,n.createElement)(l.ColorPalette,{colors:p,value:e?.background,enableAlpha:!0,onChange:e=>{b("background",e,t.key)}})),(0,n.createElement)("div",null,(0,n.createElement)("label",null,"Text color:"),(0,n.createElement)(l.ColorPalette,{colors:p,enableAlpha:!0,value:e?.textColor,onChange:e=>b("textColor",e,t.key)}))),(0,n.createElement)("div",null,(0,n.createElement)("label",null,"Link control:"),(0,n.createElement)(r.__experimentalLinkControl,{searchInputPlaceholder:"Search here...",value:e?.href,settings:[],onChange:e=>{b("href",{...e,title:e?.url},t.key)},withCreateSuggestion:!0,createSuggestionButtonText:e=>`New: ${e}`})))}):(0,n.createElement)("h4",null,"Click button below to create more CTA"),(0,n.createElement)(l.Button,{variant:"primary",onClick:f},"Add CTA"))))))},save:function(e){const{className:t,attributes:{title:s,mediaURL:i,body:o,alignment:l}}=e;return(0,n.createElement)("div",{className:"bootstrap-block"},(0,n.createElement)("div",null,(0,n.createElement)(r.RichText.Content,{tagName:"h2",className:"callout-title",value:s})),(0,n.createElement)("div",null,(0,n.createElement)("div",null,i&&(0,n.createElement)("img",{className:"the-image",src:i}))))}})}},s={};function i(e){var n=s[e];if(void 0!==n)return n.exports;var o=s[e]={exports:{}};return t[e](o,o.exports,i),o.exports}i.m=t,e=[],i.O=(t,s,n,o)=>{if(!s){var r=1/0;for(c=0;c<e.length;c++){s=e[c][0],n=e[c][1],o=e[c][2];for(var l=!0,a=0;a<s.length;a++)(!1&o||r>=o)&&Object.keys(i.O).every((e=>i.O[e](s[a])))?s.splice(a--,1):(l=!1,o<r&&(r=o));if(l){e.splice(c--,1);var h=n();void 0!==h&&(t=h)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,n,o]},i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={98:0,370:0};i.O.j=t=>0===e[t];var t=(t,s)=>{var n,o,r=s[0],l=s[1],a=s[2],h=0;if(r.some((t=>0!==e[t]))){for(n in l)i.o(l,n)&&(i.m[n]=l[n]);if(a)var c=a(i)}for(t&&t(s);h<r.length;h++)o=r[h],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(c)},s=self.webpackChunkwhw_blocks=self.webpackChunkwhw_blocks||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))})();var n=i.O(void 0,[370],(()=>i(274)));n=i.O(n)})();